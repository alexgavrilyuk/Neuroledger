# backend/src/features/notifications/README.md

## Feature: Notifications

This feature provides a centralized system for displaying notifications to users about important events, particularly team-related activities.

### Files

*   **`notification.model.js`**: Defines the Mongoose schema for notifications.
    *   **Key Fields:**
        *   `userId`: (ObjectId, Required) The recipient user.
        *   `type`: (String, Required) Type of notification (e.g., "team_invite", "team_join").
        *   `title`: (String, Required) Short, descriptive title.
        *   `message`: (String, Required) Detailed notification text.
        *   `data`: (Mixed) Additional contextual data (e.g., teamId, inviteId).
        *   `isRead`: (Boolean) Whether user has seen the notification.
        *   `createdAt`: (Date) When the notification was created.

*   **`notification.service.js`**: Business logic for notification operations.
    *   **Key Functions:**
        *   `createNotification`: Create a new notification for a user.
        *   `getUnreadNotifications`: Get all unread notifications for a user.
        *   `getUserNotifications`: Get paginated notifications for a user.
        *   `markAsRead`: Mark notifications as read.
        *   `deleteOldNotifications`: Maintenance function to clean up old notifications.
        *   `getUnreadCount`: Get count of unread notifications for a user.

*   **`notification.controller.js`**: HTTP request handlers for notification endpoints.
*   **`notification.routes.js`**: API routes for notification management.
*   **`README.md`**: This documentation file.

### API Endpoints

* `GET /api/v1/notifications` - Get all notifications for the current user (paginated)
* `GET /api/v1/notifications/unread-count` - Get count of unread notifications
* `PUT /api/v1/notifications/mark-read` - Mark notifications as read

### Usage

Notifications are generated by service functions in other features, particularly for team-related events:

* Team invitations
* Invitation acceptance/rejection
* Role changes
* Team membership removal

The frontend can poll the notification endpoints to display real-time updates to the user.

### Future Enhancements

* Real-time notifications using WebSockets
* Email notifications for important events
* Notification preferences (opt-in/opt-out)
* Categorization and filtering of notifications

This feature provides the foundation for a comprehensive notification system that can be expanded as the application grows.