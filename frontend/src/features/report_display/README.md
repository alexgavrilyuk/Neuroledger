# frontend/src/features/report_display/README.md
# ** UPDATED FILE - Rename component, clarify purpose **

## Feature: Report Display

This feature slice is responsible for rendering the dynamic report output generated by the backend's code execution service, displayed within a modal or dedicated view.

### Core Flow (Phase 5)

1.  **Component (`components/ReportViewer.jsx`):** Replaces the previous `DynamicRenderer`. This component is designed to be placed within a container like a `Modal`.
2.  **Input:** Receives the `htmlContent` string (the report HTML generated by the backend) as a prop.
3.  **Sanitization:** Uses `DOMPurify` with a specific configuration (`SANITIZE_CONFIG`) to clean the HTML, preventing XSS by removing unsafe tags/attributes while allowing necessary elements for reports (tables, lists, basic formatting, potentially SVG/Canvas for charts).
4.  **Rendering:** Uses React's `dangerouslySetInnerHTML` prop on a container `div` to render the *sanitized* HTML string.
5.  **Styling:** Applies Tailwind CSS typography plugin classes (`prose`, `prose-invert`) to the container `div` for default styling of the rendered HTML elements. Adds padding and overflow handling suitable for display within a modal.

### Files

*   **`components/`**
    *   `ReportViewer.jsx`: The core component that sanitizes and renders the report HTML.
*   **`README.md`**: This file.

### Dependencies

*   `dompurify`: For HTML sanitization.
*   `@tailwindcss/typography` plugin: (Required for `prose` styling).

### Usage

The `ReportViewer` is intended to be used within a container component (like `Modal` in `DashboardPage`) that controls its visibility and provides the `htmlContent`.

```jsx
import Modal from '../shared/ui/Modal';
import ReportViewer from './features/report_display/components/ReportViewer';

function ParentComponent() {
    const [isOpen, setIsOpen] = useState(false);
    const [reportHtml, setReportHtml] = useState('');
    // ... logic to get reportHtml ...

    return (
        <Modal isOpen={isOpen} onClose={() => setIsOpen(false)} title="Generated Report" size="xl">
             <Modal.Body padding="none">
                <ReportViewer htmlContent={reportHtml} />
             </Modal.Body>
        </Modal>
    );
}
```

Security

Sanitization (DOMPurify) is CRITICAL. Never render HTML from the backend execution without passing it through a robust sanitizer with appropriate configuration. Review SANITIZE_CONFIG carefully.