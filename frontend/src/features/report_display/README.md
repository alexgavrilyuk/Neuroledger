# frontend/src/features/report_display/README.md

## Feature: Report Display

This feature slice is responsible for rendering the dynamic report output generated by the Web Worker, displayed within a modal or dedicated view.

### Core Flow (Simplified Approach)

1. **Component (`components/ReportViewer.jsx`):** Renders the HTML content generated by the worker.
2. **Input:** Receives the `htmlContent` string (the report HTML generated by the worker) as a prop.
3. **Rendering:** Uses React's `dangerouslySetInnerHTML` prop on a container `div` to render the worker-generated HTML directly.
4. **Styling:** Applies Tailwind CSS typography plugin classes (`prose`, `prose-invert`) to the container `div` for default styling of the rendered HTML elements.

### Files

* **`components/`**
  * `ReportViewer.jsx`: The core component that renders the report HTML.
* **`README.md`**: This file.

### Dependencies

* `@tailwindcss/typography` plugin: (Required for `prose` styling).

### Usage

The `ReportViewer` is intended to be used within a container component (like `Modal` in `DashboardPage`) that controls its visibility and provides the `htmlContent`.

```jsx
import Modal from '../shared/ui/Modal';
import ReportViewer from './features/report_display/components/ReportViewer';

function ParentComponent() {
    const [isOpen, setIsOpen] = useState(false);
    const [reportHtml, setReportHtml] = useState('');
    // ... logic to get reportHtml ...

    return (
        <Modal isOpen={isOpen} onClose={() => setIsOpen(false)} title="Generated Report" size="xl">
             <Modal.Body padding="none">
                <ReportViewer htmlContent={reportHtml} />
             </Modal.Body>
        </Modal>
    );
}
```

### Security Note

The ReportViewer component uses `dangerouslySetInnerHTML` to render the content directly. This is safe because:

1. The HTML is generated by our controlled worker process, not from user input
2. The worker generates only static HTML with no script execution
3. We have full control over the content being rendered

This simplified approach avoids the complexities and potential issues with content sanitization while maintaining security.